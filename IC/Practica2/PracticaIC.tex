\documentclass[10pt,spanish]{article}
\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{fancyhdr}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{enumerate}

\providecommand{\abs}[1]{\lvert#1\rvert}
\pagestyle{fancy}
\renewcommand{\contentsname}{Índice}


\rhead{Ingeniería de Conocimiento}
\lhead{Práctica Final}


\author{
	\includegraphics[scale=1.1]{UGR} \\\\
	\Large 	Antonio Manuel Fresneda Rodríguez\\
	\\antoniomfr@correo.ugr.es
	\\77447672-W
	}
\date{}
\title{\huge \textbf{Práctica final Ingeniería de Conocimiento}}
\begin{document}
	\maketitle
	\pagebreak
	\tableofcontents
	\pagebreak
	\section{Ejercicio1}
	Este ejercicio se realizó en la práctica 1.
	\section{Ejercicio2}
	\begin{itemize}
		\item \textbf{Menos de N empleados TG}\\
		En este ejercicio nos pide que si hay menos de N empleados atendiendo TG. Esto quiere decir que el sistema avise cuando haya menos de N empleados fichados de un tipo. \\
		Para hacer esto lo que he hecho ha sido crear una regla para que cuando fiche se añade un nuevo hecho. He creado una regla que captura el hecho de fichado y el hecho de que el
		trabajador está libre. Esta regla lo que hace es incrementa un contador. En el caso de que se vaya he creado otra regla que disminuye este contador. También he creado otra regla para que se capture este hecho y el valor del mínimo en el fichero de constantes. Una vez hecho esto en el caso de que el mínimo sea menor que el valor de la constante
		se notifica.
		\item \textbf{No hay empleados TE}\\
		Este ejercicio es lo mismo que el anterior si cambiamos TG por una variable. Lo que he hecho ha sido modificar el fichero de constantes.
		\item \textbf{Usuario que lleva más de un tiempo máximo de espera}\\ Lo que he hecho ha sido que a la hora de que un usuario entre a la cola de espera, calculo el tiempo actual del sistema con la siguiente orden:\\ \textit{(bind ?t (momento))
		}\\
		Se añade un hecho con el identificador del usuario y su tiempo. \\Luego tengo una regla que captura este hecho  (identificando aquellos usuarios cuyo identificador sea mayor al del ultimo usuario atendido de dicho tramite) y si se da la condición:\\ \textit{(if (> (- (momento) ?tiempo) ?tiempoMax)} se imprime por pantalla que dicho usuario ya lleva demasiado tiempo esperando. Esta regla se llama: \textbf{ComprobarTiempo}
	\item \textbf{Usuario cuyo trámite se retrasa}\\
		Para este ejercicio lo que he hecho ha sido añadir un nuevo hecho cada vez que a una persona se le ha asignado una oficina. Este hecho guarda el tiempo en que se le asigno la oficina.\\
		Luego, tengo otra regla que captura dos hechos: El que guarda el tiempo en el que se le asignó la oficina y \textit{(ciclo ?n)} con el que consigo que esta regla se dispare siempre y en el caso de que la resta del tiempo actual menos el tiempo en el que el usuario entro sea mayor que el limite hago la notificación.
	\end{itemize}
	Para la parte de guardar los datos lo que he hecho ha sido en la regla RegistrarCaso he añadido que capture tanto el hecho con la hora de inicio del tramite como la hora en la que empezó a estar en cola. \\
	Una vez hecho esto he calculado el tiempo de tramite como: \textit{(- (momento) tiempoInicioTramite)} y el tiempo de espera en cola como: \textit{(- tiempoInicialTramite tiempoinicialCola}.
	Ambos datos para todos los usuarios se han guardado en los ficheros datosE.txt (datos espera) y datosT.txt (datos tiempo trámite).
\end{document}
